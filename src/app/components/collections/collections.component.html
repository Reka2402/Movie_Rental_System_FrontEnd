<body class="bg-dark">
  <div class="container">
    <header class="text-center py-4">
      <a href="#" class="logo text-white">
        <i class="bx bx-movie-play bx-tada text-danger"></i>
        Fl<span class="text-danger">i</span>x
      </a>
      <h1 class="text-light text-uppercase" style="font-family: 'Roboto';">
        Explore <span class="text-danger">Our</span> Collections
      </h1>
      <p class="text-light" style="font-family: 'Open Sans';">
        Dive into the world of movies, series, cartoons, and anime. Rent and enjoy your favorites today!
      </p>
    </header>

    <div *ngFor="let category of categories" style="font-family: 'Montserrat';">
      <h3 class="text-center text-uppercase text-danger mt-3" style="font-family: 'Roboto';">
        {{ category.name }}
      </h3>
      <div class="row justify-content-center">
        <div
          class="col-lg-3 col-md-4 col-sm-6 col-12 mt-4"
          *ngFor="let item of category.items"
        >
          <div class="movie-card position-relative overflow-hidden shadow-lg">
            <img
              [src]="item.images[0]"
              class="movie-image"
              alt="{{ item.name }}"
            />
            <div class="movie-title bg-danger">
              {{ item.name }}
            </div>
            <div class="movie-details text-center text-light d-flex flex-column justify-content-center">
              <p class="mb-1 text-muted">{{ item.genre }}</p>
              <p class="fw-bold text-success mb-2">
                Price: {{ item.price | currency: 'USD' }}
              </p>
              <button
                class="btn btn-danger btn-sm mb-1"
                *ngIf="item.availableCopies > 0"
                [routerLink]="'/login'"
              >
                Rent Now
              </button>
              <button
                class="btn btn-outline-light btn-sm"
                data-bs-toggle="modal"
                data-bs-target="#viewMoreModal"
                (click)="selectedMovie = item"
              >
                View More
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  
    <!-- Modal for Viewing More Details -->
<div class="modal fade" id="viewMoreModal" tabindex="-1" aria-labelledby="viewMoreModalLabel" aria-hidden="true" style="font-family: 'Poppins';">
  <div class="modal-dialog modal-lg">
    <div class="modal-content bg-dark text-light">
      <div class="modal-header">
        <h5 class="modal-title" id="viewMoreModalLabel">{{ selectedMovie?.name }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-4">
            <img [src]="selectedMovie?.images[0]" class="img-fluid rounded" alt="{{ selectedMovie?.name }}">
          </div>
          <div class="col-md-8">
            <p><strong>Genre:</strong> {{ selectedMovie?.genre }}</p>
            <p><strong>Release Date:</strong> {{ selectedMovie?.releaseDate | date }}</p>
            <p><strong>Director:</strong> {{ selectedMovie?.director }}</p>
            <p><strong>Cast:</strong> <span *ngFor="let actor of selectedMovie?.cast; let last = last">{{ actor.name }}<span *ngIf="!last">,</span></span></p>
            <p><strong>Rating:</strong> {{ selectedMovie?.rating }} <i class="fa-solid fa-star text-warning"></i></p>
            <p><strong>Description:</strong> {{ selectedMovie?.description }}</p>
            <p><strong>Price:</strong> {{ selectedMovie?.price | currency: 'USD' }}</p>
            <p><strong>Available Copies:</strong> {{ selectedMovie?.availableCopies }}</p>
          </div>
        </div>
      </div>
     
        <button type="button" *ngIf="selectedMovie?.availableCopies > 0" [routerLink]="'/login'" class="btn btn-danger">
          Sign In to Rent
        </button>
    </div>
  </div>
</div>

  </div>
</body>
